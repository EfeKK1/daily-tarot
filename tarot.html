<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Daily Tarot</title>

  <!-- Magical Font: "Mystery Quest" -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Mystery+Quest&display=swap"
    rel="stylesheet"
  >

  <style>
    /************************************************************
     *                      RESET & BASE                        *
     ************************************************************/
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Mystery Quest", cursive;
      background: url("https://images.unsplash.com/photo-1615315685401-1396dcc53f61?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80")
        no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      overflow-x: hidden;
    }
    /* Dark overlay for readability */
    body::before {
      content: "";
      position: fixed;
      top: 0; 
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      pointer-events: none;
      z-index: 0;
    }

    /************************************************************
     *                     MAIN CONTAINER                       *
     ************************************************************/
    .container {
      max-width: 900px;
      width: 95%;
      margin: 40px auto;
      background-color: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(4px);
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.7);
      padding: 30px 20px;
      text-align: center;
      position: relative;
      z-index: 1;
      animation: fadeIn 1s ease forwards;
    }
    @keyframes fadeIn {
      0% {
        opacity: 0;
        transform: scale(0.9);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    h1 {
      font-size: 2.2em;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px #000;
    }
    p.subtitle {
      margin-bottom: 20px;
      font-size: 1.1em;
      text-shadow: 1px 1px 2px #000;
      color: #ddd;
    }

    /************************************************************
     *                    STREAK DISPLAY                        *
     ************************************************************/
    #streakContainer {
      font-size: 1.2em;
      margin-bottom: 15px;
      text-shadow: 1px 1px 2px #000;
    }

    /************************************************************
     *               DRAW BUTTON & MESSAGE AREA                *
     ************************************************************/
    button.action-btn {
      background-color: #d8af3f;
      color: #300066;
      border: none;
      padding: 15px 30px;
      font-size: 1.2em;
      font-weight: bold;
      border-radius: 30px;
      margin: 10px 0;
      cursor: pointer;
      transition: transform 0.3s ease, background-color 0.3s ease;
      font-family: inherit;
    }
    button.action-btn:hover {
      background-color: #bf9a34;
      transform: scale(1.05);
    }

    #message {
      margin-top: 8px;
      font-size: 1.05em;
      color: #ffdddd;
      min-height: 24px; 
      text-shadow: 1px 1px 2px #000;
    }

    /************************************************************
     *                     3-CARD LAYOUT                        *
     ************************************************************/
    .three-cards {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 25px;
    }
    .card-container {
      flex: 1 1 28%;
      background-color: rgba(255,255,255,0.1);
      border-radius: 10px;
      padding: 20px;
      text-align: center;
      min-width: 180px;
      box-shadow: 0 0 10px rgba(255,255,255,0.2);
      animation: flipIn 0.8s ease forwards;
      transition: box-shadow 0.3s ease, transform 0.3s ease;
      transform-style: preserve-3d;
    }
    .card-container:hover {
      box-shadow: 0 0 15px rgba(255,255,255,0.4);
      transform: scale(1.03);
    }
    @keyframes flipIn {
      0% {
        transform: rotateY(90deg) scale(0.9);
        opacity: 0;
      }
      100% {
        transform: rotateY(0) scale(1);
        opacity: 1;
      }
    }

    .position-label {
      color: #fff;
      margin-bottom: 8px;
      font-size: 1.1em;
      text-transform: uppercase;
      letter-spacing: 1px;
      text-shadow: 1px 1px 2px #000;
    }

    .card-container img {
      max-width: 160px;
      margin-bottom: 10px;
      border-radius: 6px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.6);
      transition: transform 0.5s;
    }
    .card-title {
      font-size: 1.15em;
      color: #ffd700;
      text-shadow: 1px 1px 3px #000;
      margin-bottom: 6px;
    }
    .card-desc {
      font-size: 0.95em;
      text-align: justify;
      line-height: 1.3;
    }

    /************************************************************
     *                COMBO MESSAGE (SYNERGY)                   *
     ************************************************************/
    #comboMessage {
      display: none;
      margin-top: 20px;
      background-color: rgba(255,255,255,0.1);
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(255,255,255,0.3);
      font-size: 1em;
      animation: fadeIn 1s ease forwards;
      backdrop-filter: blur(5px);
    }
    @keyframes fadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }

    /************************************************************
     *                     MEDIA QUERIES                        *
     ************************************************************/
    @media (max-width: 480px) {
      .three-cards {
        flex-direction: column;
        align-items: center;
      }
      .card-container {
        min-width: 80%;
      }
      .card-container img {
        max-width: 140px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Daily Tarot</h1>
    <p class="subtitle">
      Draw your three cards once a day. Keep your streak blazing among the stars, and behold any special cosmic synergy that emerges.
    </p>

    <!-- STREAK DISPLAY -->
    <div id="streakContainer"></div>

    <!-- DRAW BUTTON & MESSAGE -->
    <button class="action-btn" id="drawCardsBtn">Draw 3 Cards</button>
    <div id="message"></div>

    <!-- 3-CARD LAYOUT -->
    <div class="three-cards" id="threeCardsContainer"></div>

    <!-- SYNERGY MESSAGE AREA -->
    <div id="comboMessage"></div>
  </div>

  <script>
    /************************************************************
     *        78-CARD TAROT DECK: Riderâ€“Waiteâ€“Style            *
     *   The 24 cards you sent now reference local images.      *
     *   The rest still point to Wikimedia for brevity.         *
     ************************************************************/
    const tarotDeck = [
      /* MAJOR ARCANA (0-21) -- EXCEPT THE ONES YOU SPECIFIED */
      {
        name: "0 - The Fool",
        image: "https://upload.wikimedia.org/wikipedia/commons/9/90/RWS_Tarot_00_Fool.jpg",
        upright: "Stepping into the unknown with a playful heart...",
        reversed: "Recklessness might trip you up. Pause before leaping..."
      },
      {
        name: "1 - The Magician",
        image: "https://upload.wikimedia.org/wikipedia/commons/d/de/RWS_Tarot_01_Magician.jpg",
        upright: "You have all the tools you need...",
        reversed: "Beware of manipulation or illusions..."
      },
      {
        name: "2 - The High Priestess", // CHANGED (local)
        image: "images/thehighpriestess.jpg",
        upright: "Trust your intuition and embrace the mystery. Some truths are whispered, not shouted.",
        reversed: "Secrets are festering or instincts are ignored. Peek behind the curtain for clarity."
      },
      {
        name: "3 - The Empress", // CHANGED (local)
        image: "images/theempress.jpg",
        upright: "Fertility, creativity, and nurture. Let ideas and relationships bloom in this fertile ground.",
        reversed: "Overbearing or blocked expression. Loosen up and let nature flow."
      },
      {
        name: "4 - The Emperor", // CHANGED (local)
        image: "images/theemperor.jpg",
        upright: "Order, structure, and leadership. Rule your world with confidence and wisdom.",
        reversed: "Rigid or power-hungry. A balanced approach prevents tyranny or chaos."
      },
      {
        name: "5 - The Hierophant",
        image: "https://upload.wikimedia.org/wikipedia/commons/6/63/RWS_Tarot_05_Hierophant.jpg",
        upright: "Tradition, learning, or spiritual guidance...",
        reversed: "Dogma or rebellion. Forge your own path..."
      },
      {
        name: "6 - The Lovers",
        image: "https://upload.wikimedia.org/wikipedia/commons/d/db/RWS_Tarot_06_Lovers.jpg",
        upright: "Profound union or vital choice...",
        reversed: "Conflicts in matters of the heart..."
      },
      {
        name: "7 - The Chariot", // CHANGED (local)
        image: "images/thechariot.jpg",
        upright: "Determination and forward momentum lead to victory.",
        reversed: "Scattered energy or loss of direction stalls your progress."
      },
      {
        name: "8 - Strength",
        image: "https://upload.wikimedia.org/wikipedia/commons/f/f5/RWS_Tarot_08_Strength.jpg",
        upright: "Compassion tames any beast...",
        reversed: "Self-doubt or impatience..."
      },
      {
        name: "9 - The Hermit",
        image: "https://upload.wikimedia.org/wikipedia/commons/4/4f/RWS_Tarot_09_Hermit.jpg",
        upright: "Seek solitude for inner wisdom...",
        reversed: "Isolation or refusal to look within..."
      },
      {
        name: "10 - Wheel of Fortune",
        image: "https://upload.wikimedia.org/wikipedia/commons/3/3c/RWS_Tarot_10_Wheel_of_Fortune.jpg",
        upright: "Fortunes turn. Embrace the upswing...",
        reversed: "A downturn or stuck cycle..."
      },
      {
        name: "11 - Justice",
        image: "https://upload.wikimedia.org/wikipedia/commons/e/e0/RWS_Tarot_11_Justice.jpg",
        upright: "Fairness, truth, accountability...",
        reversed: "Imbalance or hidden bias..."
      },
      {
        name: "12 - The Hanged Man",
        image: "https://upload.wikimedia.org/wikipedia/commons/2/2b/RWS_Tarot_12_Hanged_Man.jpg",
        upright: "Surrender brings enlightenment...",
        reversed: "Stubborn clinging to old views..."
      },
      {
        name: "13 - Death",
        image: "https://upload.wikimedia.org/wikipedia/commons/d/d7/RWS_Tarot_13_Death.jpg",
        upright: "Endings pave the way for rebirth...",
        reversed: "Resisting closure..."
      },
      {
        name: "14 - Temperance",
        image: "https://upload.wikimedia.org/wikipedia/commons/f/f8/RWS_Tarot_14_Temperance.jpg",
        upright: "Balance and moderation...",
        reversed: "Excess or imbalance..."
      },
      {
        name: "15 - The Devil",
        image: "https://upload.wikimedia.org/wikipedia/commons/5/55/RWS_Tarot_15_Devil.jpg",
        upright: "Temptations and shadows...",
        reversed: "Breaking free from toxic ties..."
      },
      {
        name: "16 - The Tower",
        image: "https://upload.wikimedia.org/wikipedia/commons/5/53/RWS_Tarot_16_Tower.jpg",
        upright: "Sudden upheaval shatters illusions...",
        reversed: "Clinging to a crumbling tower..."
      },
      {
        name: "17 - The Star",
        image: "https://upload.wikimedia.org/wikipedia/commons/d/db/RWS_Tarot_17_Star.jpg",
        upright: "Hope, renewal, cosmic inspiration...",
        reversed: "Doubt dims your inner spark..."
      },
      {
        name: "18 - The Moon",
        image: "https://upload.wikimedia.org/wikipedia/commons/7/7f/RWS_Tarot_18_Moon.jpg",
        upright: "Subconscious currents and dreams...",
        reversed: "Secrets revealed, illusions lifting..."
      },
      {
        name: "19 - The Sun",
        image: "https://upload.wikimedia.org/wikipedia/commons/1/17/RWS_Tarot_19_Sun.jpg",
        upright: "Radiant success and joy...",
        reversed: "Minor clouds over sunshine..."
      },
      {
        name: "20 - Judgement",
        image: "https://upload.wikimedia.org/wikipedia/commons/d/dd/RWS_Tarot_20_Judgement.jpg",
        upright: "Awakening and rebirth...",
        reversed: "Hesitating on self-honesty..."
      },
      {
        name: "21 - The World",
        image: "https://upload.wikimedia.org/wikipedia/commons/f/ff/RWS_Tarot_21_World.jpg",
        upright: "Completion, success, and wholeness...",
        reversed: "Loose ends delay final victory..."
      },

      /*************************************************
       * MINOR ARCANA: WANDS (Ace-King)
       * (CHANGE for Ace of Wands, Two of Wands, etc.)
       *************************************************/
      {
        name: "Ace of Wands", // CHANGED (local)
        image: "images/aceofwands.jpg",
        upright: "A surge of inspiration or passion. Start your bold project now!",
        reversed: "A false start or creative blockâ€”find a new spark to reignite."
      },
      {
        name: "Two of Wands", // CHANGED (local)
        image: "images/twoofwands.jpg",
        upright: "Planning and considering possibilities for the future.",
        reversed: "Hesitation or fear of the unknown can hold you back."
      },
      {
        name: "Three of Wands",
        image: "https://upload.wikimedia.org/wikipedia/commons/4/4f/Wands03.jpg",
        upright: "Your efforts begin bearing fruit...",
        reversed: "Lack of foresight or delayed results..."
      },
      {
        name: "Four of Wands",
        image: "https://upload.wikimedia.org/wikipedia/commons/a/a4/Wands04.jpg",
        upright: "A moment of celebration...",
        reversed: "A canceled party or shaky home base..."
      },
      {
        name: "Five of Wands",
        image: "https://upload.wikimedia.org/wikipedia/commons/9/9d/Wands05.jpg",
        upright: "Competition, conflict, or lively debate...",
        reversed: "Avoiding conflict or internal turmoil..."
      },
      {
        name: "Six of Wands",
        image: "https://upload.wikimedia.org/wikipedia/commons/3/3b/Wands06.jpg",
        upright: "Victory, recognition, and applause...",
        reversed: "A stumble at success..."
      },
      {
        name: "Seven of Wands",
        image: "https://upload.wikimedia.org/wikipedia/commons/e/e5/Wands07.jpg",
        upright: "Defend your position with courage...",
        reversed: "Feeling overwhelmed by opposition..."
      },
      {
        name: "Eight of Wands", // CHANGED (local)
        image: "images/eightofwands.jpg",
        upright: "Swift action or rapid communicationâ€”momentum is on your side.",
        reversed: "Delays or confusion. Slow down to avoid chaos in transit."
      },
      {
        name: "Nine of Wands",
        image: "https://upload.wikimedia.org/wikipedia/commons/4/4a/Wands09.jpg",
        upright: "Wounded but standing. Persistence sees you through...",
        reversed: "Paranoia or burnout..."
      },
      {
        name: "Ten of Wands",
        image: "https://upload.wikimedia.org/wikipedia/commons/0/0b/Wands10.jpg",
        upright: "Carrying a heavy load, but finish line is near...",
        reversed: "Unnecessary burdens..."
      },
      {
        name: "Page of Wands", // CHANGED (local)
        image: "images/pageofwands.jpg",
        upright: "Enthusiastic explorationâ€”embrace new ideas with childlike wonder.",
        reversed: "Reckless or unfocused. Refine your spark so it can truly ignite."
      },
      {
        name: "Knight of Wands", // CHANGED (local)
        image: "images/knightofwands.jpg",
        upright: "Passion and adventureâ€”charging ahead with fiery energy.",
        reversed: "Reckless or hotheaded actions can bring chaos."
      },
      {
        name: "Queen of Wands", // CHANGED (local)
        image: "images/queenofwands.jpg",
        upright: "Confident creativity and charmâ€”light the room with your spark.",
        reversed: "Overly dramatic or controlling. Let others shine too."
      },
      {
        name: "King of Wands", // CHANGED (local)
        image: "images/kingofwands.jpg",
        upright: "Bold leadership, vision, and inspiration fire up your goals.",
        reversed: "Tyrannical or impulsive approach burns bridges."
      },

      /*************************************************
       * MINOR ARCANA: CUPS (Ace-King)
       * (CHANGE for Ace of Cups, Five of Cups, etc.)
       *************************************************/
      {
        name: "Ace of Cups", // CHANGED (local)
        image: "images/aceofcups.jpg",
        upright: "New emotional or creative beginnings, overflowing potential.",
        reversed: "Repressed emotions or a blocked heart keep you from connecting."
      },
      {
        name: "Two of Cups",
        image: "https://upload.wikimedia.org/wikipedia/commons/f/f8/Cups02.jpg",
        upright: "Connection, partnership, or a heartfelt bond...",
        reversed: "Miscommunication or imbalance..."
      },
      {
        name: "Three of Cups",
        image: "https://upload.wikimedia.org/wikipedia/commons/9/94/Cups03.jpg",
        upright: "Celebration, friendship, and shared joy...",
        reversed: "Gossip or overindulgence..."
      },
      {
        name: "Four of Cups",
        image: "https://upload.wikimedia.org/wikipedia/commons/3/35/Cups04.jpg",
        upright: "Apathetic or bored? Fresh opportunities lurk...",
        reversed: "Emerging from discontent..."
      },
      {
        name: "Five of Cups", // CHANGED (local)
        image: "images/fiveofcups.jpg",
        upright: "Loss and disappointmentâ€”grieve, but notice what remains.",
        reversed: "Healing from sorrow, slowly shifting your focus to hope again."
      },
      {
        name: "Six of Cups",
        image: "https://upload.wikimedia.org/wikipedia/commons/1/17/Cups06.jpg",
        upright: "Sweet nostalgia or childhood memories...",
        reversed: "Clinging to the past..."
      },
      {
        name: "Seven of Cups",
        image: "https://upload.wikimedia.org/wikipedia/commons/7/7a/Cups07.jpg",
        upright: "Many options or fantasies. Choose wisely...",
        reversed: "Clarity emerges as illusions fade..."
      },
      {
        name: "Eight of Cups",
        image: "https://upload.wikimedia.org/wikipedia/commons/6/60/Cups08.jpg",
        upright: "Walking away from what no longer serves you...",
        reversed: "Avoiding a necessary departure..."
      },
      {
        name: "Nine of Cups",
        image: "https://upload.wikimedia.org/wikipedia/commons/2/24/Cups09.jpg",
        upright: "Wish fulfillment, contentment...",
        reversed: "Overindulgence or hollow satisfaction..."
      },
      {
        name: "Ten of Cups",
        image: "https://upload.wikimedia.org/wikipedia/commons/8/84/Cups10.jpg",
        upright: "Domestic bliss, emotional harmony...",
        reversed: "Disharmony at home..."
      },
      {
        name: "Page of Cups",
        image: "https://upload.wikimedia.org/wikipedia/commons/6/6d/Cups11.jpg",
        upright: "A sweet, imaginative message or emotional spark...",
        reversed: "Immature or unrealistic emotions..."
      },
      {
        name: "Knight of Cups",
        image: "https://upload.wikimedia.org/wikipedia/commons/f/fa/Cups12.jpg",
        upright: "Romantic or poetic soul on a quest...",
        reversed: "Unrealistic love or moodiness..."
      },
      {
        name: "Queen of Cups",
        image: "https://upload.wikimedia.org/wikipedia/commons/8/88/Cups13.jpg",
        upright: "Empathy, intuition, and deep compassion flow...",
        reversed: "Emotional overwhelm or codependency..."
      },
      {
        name: "King of Cups", // CHANGED (local)
        image: "images/kingofcups.jpg",
        upright: "Emotional maturity and compassion, a calm guiding presence.",
        reversed: "Moodiness or manipulation lurk beneath the surface."
      },

      /*************************************************
       * MINOR ARCANA: SWORDS (Ace-King)
       * (CHANGE for Page of Swords, etc.)
       *************************************************/
      {
        name: "Ace of Swords",
        image: "https://upload.wikimedia.org/wikipedia/commons/1/1b/Swords01.jpg",
        upright: "A sharp new idea or truth...",
        reversed: "Clouded thoughts or misuse of words..."
      },
      {
        name: "Two of Swords",
        image: "https://upload.wikimedia.org/wikipedia/commons/4/4c/Swords02.jpg",
        upright: "A stalemate or tough choice...",
        reversed: "Decision timeâ€”no more fence-sitting..."
      },
      {
        name: "Three of Swords",
        image: "https://upload.wikimedia.org/wikipedia/commons/b/b0/Swords03.jpg",
        upright: "Heartache or betrayal stings...",
        reversed: "Recovery from sorrow..."
      },
      {
        name: "Four of Swords",
        image: "https://upload.wikimedia.org/wikipedia/commons/b/bf/Swords04.jpg",
        upright: "Rest and recuperation...",
        reversed: "Ignoring the break you need..."
      },
      {
        name: "Five of Swords",
        image: "https://upload.wikimedia.org/wikipedia/commons/2/29/Swords05.jpg",
        upright: "A hollow victory or conflict...",
        reversed: "Lingering resentment..."
      },
      {
        name: "Six of Swords",
        image: "https://upload.wikimedia.org/wikipedia/commons/f/fc/Swords06.jpg",
        upright: "A transition to calmer waters...",
        reversed: "Resisting a needed departure..."
      },
      {
        name: "Seven of Swords",
        image: "https://upload.wikimedia.org/wikipedia/commons/7/7c/Swords07.jpg",
        upright: "Sneaky or strategic moves...",
        reversed: "Caught in the act or feeling guilty..."
      },
      {
        name: "Eight of Swords", // CHANGED (local)
        image: "images/eightofswords.jpg",
        upright: "Feeling trapped by circumstances or limiting beliefs.",
        reversed: "Escaping mental prisonsâ€”recognizing you hold the key."
      },
      {
        name: "Nine of Swords",
        image: "https://upload.wikimedia.org/wikipedia/commons/2/2f/Swords09.jpg",
        upright: "Anxiety or nightmares weigh heavy...",
        reversed: "Relief from stress or still stuck in fear..."
      },
      {
        name: "Ten of Swords",
        image: "https://upload.wikimedia.org/wikipedia/commons/d/d4/Swords10.jpg",
        upright: "A painful ending or betrayal...",
        reversed: "Recovering from rock bottom..."
      },
      {
        name: "Page of Swords", // CHANGED (local)
        image: "images/pageofswords.jpg",
        upright: "Curiosity and quick thinking. Gather info, but watch sharp words.",
        reversed: "Gossip or hasty judgment. Temper your tongue to avoid trouble."
      },
      {
        name: "Knight of Swords",
        image: "https://upload.wikimedia.org/wikipedia/commons/a/a2/Swords12.jpg",
        upright: "Swift action and assertive communication...",
        reversed: "Reckless or scattered energy..."
      },
      {
        name: "Queen of Swords",
        image: "images/queenofswords.jpg", // CHANGED (local)
        upright: "Clarity of mind and direct communicationâ€”fair but firm.",
        reversed: "Overly critical or distant; risk of cutting remarks."
      },
      {
        name: "King of Swords",
        image: "https://upload.wikimedia.org/wikipedia/commons/9/99/Swords14.jpg",
        upright: "Intellectual authority and logic...",
        reversed: "Harsh or manipulative..."
      },

      /*************************************************
       * MINOR ARCANA: PENTACLES (Ace-King)
       * (CHANGE for Knight of Pentacles, etc.)
       *************************************************/
      {
        name: "Ace of Pentacles",
        image: "https://upload.wikimedia.org/wikipedia/commons/f/fd/Pents01.jpg",
        upright: "A promising start for material gain...",
        reversed: "Missed opportunity or shaky foundation..."
      },
      {
        name: "Two of Pentacles",
        image: "https://upload.wikimedia.org/wikipedia/commons/f/fd/Pents02.jpg",
        upright: "Juggling finances or priorities with grace...",
        reversed: "Too many tasks, not enough calm..."
      },
      {
        name: "Three of Pentacles", // CHANGED (local)
        image: "images/threeofpentacles.jpg",
        upright: "Teamwork, collaborationâ€”everyoneâ€™s skill combines to build success.",
        reversed: "Disorganized effort or lack of cooperation undermines the goal."
      },
      {
        name: "Four of Pentacles",
        image: "https://upload.wikimedia.org/wikipedia/commons/6/6b/Pents04.jpg",
        upright: "Stability but watch for clinging too tight...",
        reversed: "Time to loosen that grip..."
      },
      {
        name: "Five of Pentacles",
        image: "https://upload.wikimedia.org/wikipedia/commons/9/96/Pents05.jpg",
        upright: "Struggling or feeling shut out in the cold...",
        reversed: "Recovery from hardship..."
      },
      {
        name: "Six of Pentacles", // CHANGED (local)
        image: "images/sixofpentacles.jpg",
        upright: "Generosity and balanced giving/receiving create harmony.",
        reversed: "Unequal exchange or hidden strings attached to generosity."
      },
      {
        name: "Seven of Pentacles", // CHANGED (local)
        image: "images/sevenofpentacles.jpg",
        upright: "Patience and steady growthâ€”your efforts will bear fruit.",
        reversed: "Impatience or poor planning may yield disappointing results."
      },
      {
        name: "Eight of Pentacles", // CHANGED (local)
        image: "images/eightofpentacles.jpg",
        upright: "Focused effort and skill-buildingâ€”master your craft.",
        reversed: "Sloppy work or lack of diligence leads to poor results."
      },
      {
        name: "Nine of Pentacles", // CHANGED (local)
        image: "images/nineofpentacles.jpg",
        upright: "Enjoying the fruits of your labor, self-sufficiency, and comfort.",
        reversed: "Overindulgence or feeling empty despite material success."
      },
      {
        name: "Ten of Pentacles",
        image: "https://upload.wikimedia.org/wikipedia/commons/6/6b/Pents10.jpg",
        upright: "Family legacy, long-term stability, and wealth...",
        reversed: "Financial or family disputes..."
      },
      {
        name: "Page of Pentacles",
        image: "https://upload.wikimedia.org/wikipedia/commons/0/00/Pents11.jpg",
        upright: "Eager to learn about finances or practical matters...",
        reversed: "Lack of follow-through..."
      },
      {
        name: "Knight of Pentacles", // CHANGED (local)
        image: "images/knightofpentacles.jpg",
        upright: "Steady progress, hard work, and practical routines.",
        reversed: "Stagnation or stubbornness slows down all forward motion."
      },
      {
        name: "Queen of Pentacles", // CHANGED (local)
        image: "images/queenofpentacles.jpg",
        upright: "Nurturing practicalityâ€”balancing home, finances, and comfort.",
        reversed: "Overly materialistic or neglectful of deeper emotional needs."
      },
      {
        name: "King of Pentacles",
        image: "https://upload.wikimedia.org/wikipedia/commons/9/90/Pents14.jpg",
        upright: "Wealth, stability, and reliability...",
        reversed: "Greed or stubbornness..."
      }
    ];

    /************************************************************
     *   100 SPECIAL 3-CARD SYNERGY COMBOS (No numeric refs)    *
     ************************************************************/
    const specialCombos = {};
    function generateComboMessages(count = 100) {
      const used = new Set();
      let attempts = 0;
      const synergyTexts = [
        "Cosmic forces converge in rare harmony. Heed the astral whispers binding these three fates.",
        "A celestial tapestry unfolds in this trio, revealing hidden truths that echo across the stars.",
        "When these paths unite, the heavens tremble with a potent omen. Let your spirit heed the call.",
        "Astrological currents weave these cards together, forming a gateway to profound revelation.",
        "A majestic chord resonates through the cosmic spheres, signaling transformation through this union."
      ];

      while (Object.keys(specialCombos).length < count && attempts < 5000) {
        attempts++;
        // pick 3 distinct indexes
        const idxSet = new Set();
        while (idxSet.size < 3) {
          idxSet.add(Math.floor(Math.random() * tarotDeck.length));
        }
        const sortedIdx = [...idxSet].sort((a,b)=>a-b);

        // random reversed states
        const revArray = sortedIdx.map(()=> Math.random()<0.5);

        // build the combo key
        const comboKey = sortedIdx.map((i, idx) => {
          const cardName = tarotDeck[i].name;
          const reversed = revArray[idx];
          return `${cardName}-${reversed}`;
        }).join(";");

        if (!used.has(comboKey)) {
          used.add(comboKey);
          // pick a random synergy text
          const randomMsg = synergyTexts[Math.floor(Math.random() * synergyTexts.length)];
          specialCombos[comboKey] = randomMsg;
        }
      }
    }
    generateComboMessages(100);

    /************************************************************
     *         DAILY DRAW LOGIC + STREAK (LocalStorage)         *
     ************************************************************/
    const drawCardsBtn = document.getElementById("drawCardsBtn");
    const messageDiv = document.getElementById("message");
    const streakContainer = document.getElementById("streakContainer");
    const threeCardsContainer = document.getElementById("threeCardsContainer");
    const comboMessage = document.getElementById("comboMessage");

    // date formatter
    function formatDate(d = new Date()) {
      const day = String(d.getDate()).padStart(2,"0");
      const mon = String(d.getMonth()+1).padStart(2,"0");
      const yr = d.getFullYear();
      return `${day}.${mon}.${yr}`;
    }

    let lastDrawDate = localStorage.getItem("dailyTarotLastDraw") || null;
    let streakCount = parseInt(localStorage.getItem("dailyTarotStreak") || "0");

    function updateStreakDisplay() {
      streakContainer.textContent = `Streak: ${streakCount} ðŸ”¥`;
    }

    // check streak on load
    (function checkStreakOnLoad() {
      if (!lastDrawDate) {
        streakCount = 0;
        localStorage.setItem("dailyTarotStreak", "0");
      } else {
        const todayStr = formatDate();
        if (lastDrawDate !== todayStr) {
          // check if more than a day gap
          const [d, m, y] = lastDrawDate.split(".").map(Number);
          const lastDateObj = new Date(y, m-1, d);
          const todayObj = new Date();
          const diffTime = todayObj - lastDateObj;
          const diffDays = Math.floor(diffTime/(1000*60*60*24));
          if (diffDays > 1) {
            // missed a day => reset
            streakCount = 0;
            localStorage.setItem("dailyTarotStreak", "0");
          }
        }
      }
      updateStreakDisplay();
    })();

    drawCardsBtn.addEventListener("click", () => {
      messageDiv.textContent = "";
      comboMessage.style.display = "none";
      comboMessage.textContent = "";

      const todayStr = formatDate();
      if (lastDrawDate === todayStr) {
        messageDiv.textContent = "You have already invoked today's tarot. Let the stars shift and return tomorrow!";
        return;
      }

      // clear old draws
      threeCardsContainer.innerHTML = "";

      // pick 3 unique cards
      const idxSet = new Set();
      while (idxSet.size < 3) {
        idxSet.add(Math.floor(Math.random() * tarotDeck.length));
      }
      const chosenIndexes = [...idxSet].sort((a,b)=>a-b);

      const positions = ["Past", "Present", "Future"];
      const comboKeyParts = [];

      chosenIndexes.forEach((cardIdx, i)=>{
        const card = tarotDeck[cardIdx];
        const isReversed = Math.random() < 0.5;

        const cardDiv = document.createElement("div");
        cardDiv.className = "card-container";

        const posLabel = document.createElement("h4");
        posLabel.className = "position-label";
        posLabel.textContent = positions[i];
        cardDiv.appendChild(posLabel);

        const imgEl = document.createElement("img");
        imgEl.src = card.image;
        if (isReversed) {
          imgEl.style.transform = "rotate(180deg)";
        }
        cardDiv.appendChild(imgEl);

        const titleEl = document.createElement("h5");
        titleEl.className = "card-title";
        titleEl.textContent = card.name + (isReversed ? " (Reversed)" : "");
        cardDiv.appendChild(titleEl);

        const descEl = document.createElement("p");
        descEl.className = "card-desc";
        descEl.textContent = isReversed ? card.reversed : card.upright;
        cardDiv.appendChild(descEl);

        threeCardsContainer.appendChild(cardDiv);

        comboKeyParts.push(`${card.name}-${isReversed}`);
      });

      const finalKey = comboKeyParts.join(";");

      // synergy check
      if (specialCombos[finalKey]) {
        comboMessage.textContent = specialCombos[finalKey];
      } else {
        comboMessage.textContent =
          "These three forces unite under today's cosmic alignment with a subtle message. Listen carefully, for the stars speak in mysteries beyond words.";
      }
      comboMessage.style.display = "block";

      // update daily usage
      lastDrawDate = todayStr;
      localStorage.setItem("dailyTarotLastDraw", lastDrawDate);

      // increment streak
      if (streakCount <= 0) {
        streakCount = 1;
      } else {
        streakCount++;
      }
      localStorage.setItem("dailyTarotStreak", streakCount.toString());
      updateStreakDisplay();
    });

    // init
    updateStreakDisplay();
  </script>
</body>
</html>
