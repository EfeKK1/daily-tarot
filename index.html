<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Daily Tarot</title>

  <!-- Google Font: Mystery Quest -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Mystery+Quest&display=swap"
    rel="stylesheet"
  >

  <style>
    /* RESET */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Mystery Quest", cursive;
      background: url("https://images.unsplash.com/photo-1615315685401-1396dcc53f61?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80") 
        no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      overflow-x: hidden;
    }
    /* Dark overlay for readability */
    body::before {
      content: "";
      position: fixed;
      top: 0; 
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      pointer-events: none;
      z-index: 0;
    }

    .container {
      max-width: 900px;
      width: 95%;
      margin: 40px auto;
      background-color: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(4px);
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.7);
      padding: 30px 20px;
      text-align: center;
      position: relative;
      z-index: 1;
      animation: fadeIn 1s ease forwards;
    }
    @keyframes fadeIn {
      0% {
        opacity: 0;
        transform: scale(0.9);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    h1 {
      font-size: 2.2em;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px #000;
    }
    p.subtitle {
      margin-bottom: 20px;
      font-size: 1.1em;
      text-shadow: 1px 1px 2px #000;
      color: #ddd;
    }

    /* Language Toggle */
    .lang-toggle {
      position: absolute;
      top: 15px;
      right: 15px;
      background-color: #dab03f;
      color: #300066;
      border: none;
      padding: 10px 18px;
      font-size: 1em;
      font-weight: bold;
      border-radius: 20px;
      cursor: pointer;
      transition: transform 0.3s ease, background-color 0.3s ease;
      font-family: inherit;
      z-index: 2; 
    }
    .lang-toggle:hover {
      background-color: #bf9a34;
      transform: scale(1.05);
    }

    /* Streak & Button */
    #streakContainer {
      font-size: 1.2em;
      margin-bottom: 15px;
      text-shadow: 1px 1px 2px #000;
    }
    button.action-btn {
      background-color: #d8af3f;
      color: #300066;
      border: none;
      padding: 15px 30px;
      font-size: 1.2em;
      font-weight: bold;
      border-radius: 30px;
      margin: 10px 0;
      cursor: pointer;
      transition: transform 0.3s ease, background-color 0.3s ease;
      font-family: inherit;
    }
    button.action-btn:hover {
      background-color: #bf9a34;
      transform: scale(1.05);
    }

    #message {
      margin-top: 8px;
      font-size: 1.05em;
      color: #ffdddd;
      min-height: 24px; 
      text-shadow: 1px 1px 2px #000;
    }

    /* 3 Cards Layout */
    .three-cards {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 25px;
    }
    .card-container {
      flex: 1 1 28%;
      background-color: rgba(255,255,255,0.1);
      border-radius: 10px;
      padding: 20px;
      text-align: center;
      min-width: 180px;
      box-shadow: 0 0 10px rgba(255,255,255,0.2);
      animation: flipIn 0.8s ease forwards;
      transition: box-shadow 0.3s ease, transform 0.3s ease;
      transform-style: preserve-3d;
    }
    .card-container:hover {
      box-shadow: 0 0 15px rgba(255,255,255,0.4);
      transform: scale(1.03);
    }
    @keyframes flipIn {
      0% {
        transform: rotateY(90deg) scale(0.9);
        opacity: 0;
      }
      100% {
        transform: rotateY(0) scale(1);
        opacity: 1;
      }
    }
    .position-label {
      color: #fff;
      margin-bottom: 8px;
      font-size: 1.1em;
      text-transform: uppercase;
      letter-spacing: 1px;
      text-shadow: 1px 1px 2px #000;
    }
    .card-container img {
      max-width: 160px;
      margin-bottom: 10px;
      border-radius: 6px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.6);
      transition: transform 0.5s;
    }
    .card-title {
      font-size: 1.15em;
      color: #ffd700;
      text-shadow: 1px 1px 3px #000;
      margin-bottom: 6px;
    }
    .card-desc {
      font-size: 0.95em;
      text-align: justify;
      line-height: 1.3;
    }
  </style>
</head>

<body>
  <!-- Language Toggle Button -->
  <button class="lang-toggle" id="langToggleBtn">TR / EN</button>

  <div class="container">
    <h1 id="titleText">Daily Tarot</h1>
    <p class="subtitle" id="subtitleText">
      Draw your three cards once a day. Keep your streak blazing among the stars, and let each card guide you with deeper advice.
    </p>

    <div id="streakContainer"></div>

    <button class="action-btn" id="drawCardsBtn">Draw 3 Cards</button>
    <div id="message"></div>

    <div class="three-cards" id="threeCardsContainer"></div>
  </div>

  <script>
    /************************************************************
     *             BILINGUAL UI TEXTS (EN / TR)                 *
     ************************************************************/
    const uiTexts = {
      en: {
        title: "Daily Tarot",
        subtitle: "Draw your three cards once a day. Keep your streak blazing among the stars, and let each card guide you with deeper advice.",
        drawButton: "Draw 3 Cards",
        alreadyDrewMsg: "You have already drawn today's tarot. Let the day pass and come back tomorrow!",
        synergyFallback: "", /* Not used, no combos. */
        streakLabel: "Streak",
        positionPast: "Past",
        positionPresent: "Present",
        positionFuture: "Future"
      },
      tr: {
        title: "GÃ¼nlÃ¼k Tarot",
        subtitle: "GÃ¼nde bir kez Ã¼Ã§ kart seÃ§in. YÄ±ldÄ±zlar arasÄ±nda serinizi sÃ¼rdÃ¼rÃ¼n ve her kartÄ±n derin Ã¶nerileriyle yolunuzu bulun.",
        drawButton: "3 Kart Ã‡ek",
        alreadyDrewMsg: "BugÃ¼nÃ¼n tarotunu zaten Ã§ektiniz. GÃ¼nÃ¼n geÃ§mesini bekleyip yarÄ±n tekrar gelin!",
        synergyFallback: "",
        streakLabel: "Seri",
        positionPast: "GeÃ§miÅŸ",
        positionPresent: "Åžimdi",
        positionFuture: "Gelecek"
      }
    };

    let currentLang = "en"; // varsayÄ±lan dil (Ä°ngilizce)

    /************************************************************
     *         HELPER: DÄ°L DEÄžÄ°ÅžTÄ°RME (UI METÄ°NLERÄ°)            *
     ************************************************************/
    const langToggleBtn = document.getElementById("langToggleBtn");
    const titleText = document.getElementById("titleText");
    const subtitleText = document.getElementById("subtitleText");
    const drawCardsBtn = document.getElementById("drawCardsBtn");
    const messageDiv = document.getElementById("message");
    const streakContainer = document.getElementById("streakContainer");

    function applyLanguage() {
      const t = uiTexts[currentLang];
      titleText.textContent = t.title;
      subtitleText.textContent = t.subtitle;
      drawCardsBtn.textContent = t.drawButton;
      if (lastDrawDate === formatDate()) {
        messageDiv.textContent = t.alreadyDrewMsg;
      }
      updateStreakDisplay(); 
    }

    function toggleLanguage() {
      currentLang = (currentLang === "en") ? "tr" : "en";
      applyLanguage();
    }
    langToggleBtn.addEventListener("click", toggleLanguage);

    /************************************************************
     *          TAROT DESTE (78 KART) -> 24 KART LOKAL          *
     *  KalanlarÄ± kÄ±smen Wikimedia linki, hepsi ikidilli.       *
     *  Her kart: upright: { en: "...", tr: "..." }, reversed: ...
     ************************************************************/
    const tarotDeck = [
      // Ã–rnek: Sizin 24 kart - images/xxx.jpg
      {
        name: "Two of Wands",
        image: "images/twoofwands.jpg",
        upright: {
          en: "You stand at a threshold, planning your future steps. Take bold action after careful thought; the world awaits your initiative.",
          tr: "Bir eÅŸikte duruyorsunuz, gelecek adÄ±mlarÄ±nÄ±zÄ± planlÄ±yorsunuz. Dikkatli dÃ¼ÅŸÃ¼nÃ¼p cesur hareket edin; dÃ¼nya atÄ±lÄ±mÄ±nÄ±zÄ± bekliyor."
        },
        reversed: {
          en: "Indecision and overthinking might stall your progress. Balance your fears with realistic goals, and move forward with caution.",
          tr: "Karar verememe ve fazla dÃ¼ÅŸÃ¼nme ilerlemenizi durdurabilir. KorkularÄ±nÄ±zÄ± gerÃ§ekÃ§i hedeflerle dengeleyip, dikkatle ilerleyin."
        }
      },
      {
        name: "Ace of Cups",
        image: "images/aceofcups.jpg",
        upright: {
          en: "A wellspring of emotion or creativity is opening for you. Embrace heartfelt connections and let compassion flow.",
          tr: "Duygusal veya yaratÄ±cÄ± bir kaynak sizin iÃ§in aÃ§Ä±lÄ±yor. Ä°Ã§ten baÄŸlarÄ± kucaklayÄ±n ve ÅŸefkati akÄ±ÅŸÄ±na bÄ±rakÄ±n."
        },
        reversed: {
          en: "Unspoken feelings or emotional blockage hinder deeper intimacy. Healing old wounds may unlock genuine affection.",
          tr: "Dile getirilmemiÅŸ duygular veya duygusal tÄ±kanÄ±klÄ±k, derin yakÄ±nlaÅŸmayÄ± engelliyor. Eski yaralarÄ± iyileÅŸtirmek gerÃ§ek sevgiye kapÄ± aÃ§abilir."
        }
      },
      {
        name: "The Chariot",
        image: "images/thechariot.jpg",
        upright: {
          en: "Your determination and self-control fuel your journey to success. Harness opposing forces and direct them with confidence.",
          tr: "KararlÄ±lÄ±ÄŸÄ±nÄ±z ve Ã¶zdenetiminiz baÅŸarÄ± yolculuÄŸunuzu besliyor. ZÄ±t gÃ¼Ã§leri kontrol edin ve gÃ¼venle yÃ¶nlendirin."
        },
        reversed: {
          en: "Scattered energy or internal conflict halts your progress. Regain your focus and align your will before proceeding.",
          tr: "DaÄŸÄ±nÄ±k enerji veya iÃ§sel Ã§atÄ±ÅŸma ilerlemenizi durduruyor. Devam etmeden Ã¶nce odaÄŸÄ±nÄ±zÄ± ve iradenizi yeniden toplayÄ±n."
        }
      },
      {
        name: "Queen of Swords",
        image: "images/queenofswords.jpg",
        upright: {
          en: "You offer clear logic and unbiased perspective. Communicate truth gently, but stand firm in your convictions.",
          tr: "TarafsÄ±z bir bakÄ±ÅŸ ve net mantÄ±k sunuyorsunuz. GerÃ§eÄŸi nazikÃ§e aktarÄ±n ancak inanÃ§larÄ±nÄ±zdan Ã¶dÃ¼n vermeyin."
        },
        reversed: {
          en: "Coldness or harsh criticism may push people away. Balance honesty with empathy to maintain meaningful bonds.",
          tr: "SoÄŸuk veya sert eleÅŸtiriler insanlarÄ± uzaklaÅŸtÄ±rabilir. DÃ¼rÃ¼stlÃ¼ÄŸÃ¼ ÅŸefkatle dengeleyerek anlamlÄ± baÄŸlarÄ± koruyun."
        }
      },
      {
        name: "Knight of Pentacles",
        image: "images/knightofpentacles.jpg",
        upright: {
          en: "Steady diligence and commitment define your path. Through hard work and patient methods, youâ€™ll build lasting security.",
          tr: "Ä°stikrarlÄ± Ã¶zen ve baÄŸlÄ±lÄ±k yolunuzu belirler. SÄ±kÄ± Ã§alÄ±ÅŸma ve sabÄ±rlÄ± yÃ¶ntemlerle kalÄ±cÄ± gÃ¼venlik oluÅŸturacaksÄ±nÄ±z."
        },
        reversed: {
          en: "Rigidity or stagnation could undermine your efforts. Adapt to new methods or risk standing still indefinitely.",
          tr: "KatÄ±lÄ±k veya durgunluk Ã§abalarÄ±nÄ±zÄ± zayÄ±flatabilir. Yeni yÃ¶ntemlere uyum saÄŸlayÄ±n veya sÃ¼resiz olarak yerinizde sayma riskiyle karÅŸÄ±laÅŸÄ±n."
        }
      },
      {
        name: "The High Priestess",
        image: "images/thehighpriestess.jpg",
        upright: {
          en: "Listen to your inner voice and observe subtle signs. Wisdom lies beyond surface appearances.",
          tr: "Ä°Ã§ sesinize kulak verin ve ince iÅŸaretleri gÃ¶zlemleyin. Bilgelik yÃ¼zeyin Ã¶tesinde gizlidir."
        },
        reversed: {
          en: "Secrets or self-doubt cloud your judgment. Confront hidden truths to restore clarity.",
          tr: "Gizli sÄ±rlar veya kendinden ÅŸÃ¼phe yargÄ±nÄ±zÄ± karartÄ±yor. NetliÄŸi geri kazanmak iÃ§in saklÄ± gerÃ§eklerle yÃ¼zleÅŸin."
        }
      },
      {
        name: "King of Wands",
        image: "images/kingofwands.jpg",
        upright: {
          en: "You lead with passion and vision. Inspire others with your bold ideas, but keep your temper in check.",
          tr: "Tutku ve vizyonla liderlik ediyorsunuz. Cesur fikirlerinizle baÅŸkalarÄ±nÄ± harekete geÃ§irin, Ã¶fkenizi ise dizginleyin."
        },
        reversed: {
          en: "Impulsiveness or arrogance might sabotage your goals. Temper your fiery energy with thoughtful planning.",
          tr: "Fevrilik veya kibir hedeflerinizi baltalayabilir. AteÅŸli enerjinizi dÃ¼ÅŸÃ¼nceli bir planlamayla dengeleyin."
        }
      },
      {
        name: "Seven of Pentacles",
        image: "images/sevenofpentacles.jpg",
        upright: {
          en: "Hard work is taking root, though results may be slow. Continue nurturing your efforts for a solid harvest.",
          tr: "SÄ±kÄ± Ã§alÄ±ÅŸmalarÄ±nÄ±z kÃ¶k salÄ±yor ancak sonuÃ§lar yavaÅŸ gelebilir. Emeklerinizi beslemeye devam edin; saÄŸlam bir hasat elde edeceksiniz."
        },
        reversed: {
          en: "Growing impatience or doubt can derail progress. Reassess your methods and stay consistent for true rewards.",
          tr: "Artan sabÄ±rsÄ±zlÄ±k veya ÅŸÃ¼phe ilerlemeyi raydan Ã§Ä±karabilir. YÃ¶ntemlerinizi gÃ¶zden geÃ§irin ve gerÃ§ek kazanÃ§ iÃ§in istikrarlÄ± kalÄ±n."
        }
      },
      {
        name: "Knight of Wands",
        image: "images/knightofwands.jpg",
        upright: {
          en: "Your adventurous spirit ignites new possibilities. Embrace bold moves, but prepare for rapid shifts.",
          tr: "MaceracÄ± ruhunuz yeni ihtimalleri alevlendiriyor. Cesur adÄ±mlarÄ± kucaklayÄ±n, ancak ani deÄŸiÅŸimlere de hazÄ±rlÄ±klÄ± olun."
        },
        reversed: {
          en: "Reckless haste can lead to chaos. Slow down slightly to harness your passion constructively.",
          tr: "DÃ¼ÅŸÃ¼ncesiz acelecilik kaosa neden olabilir. Tutkunuzu yapÄ±cÄ± ÅŸekilde kullanmak iÃ§in biraz yavaÅŸlayÄ±n."
        }
      },
      {
        name: "Six of Pentacles",
        image: "images/sixofpentacles.jpg",
        upright: {
          en: "Give and receive in balanced measure. Mutual support fosters trust and well-being.",
          tr: "AlÄ±p vermeyi dengede tutun. KarÅŸÄ±lÄ±klÄ± destek, gÃ¼ven ve esenliÄŸe zemin hazÄ±rlar."
        },
        reversed: {
          en: "One-sided generosity or hidden motives disrupt harmony. Reevaluate the fairness in each exchange.",
          tr: "Tek taraflÄ± cÃ¶mertlik veya gizli niyetler uyumu bozar. Her alÄ±ÅŸveriÅŸin adaletini yeniden deÄŸerlendirin."
        }
      },
      {
        name: "King of Cups",
        image: "images/kingofcups.jpg",
        upright: {
          en: "Emotional mastery and compassion guide you. Offer a calm harbor for those facing turbulent feelings.",
          tr: "Duygusal ustalÄ±k ve ÅŸefkat size rehberlik ediyor. FÄ±rtÄ±nalÄ± duygular yaÅŸayanlara sakin bir liman sunun."
        },
        reversed: {
          en: "Suppressed emotions or manipulative behavior lurk beneath the surface. Seek honest connections for true harmony.",
          tr: "BastÄ±rÄ±lmÄ±ÅŸ duygular veya manipÃ¼latif davranÄ±ÅŸlar derinde saklÄ± olabilir. GerÃ§ek uyum iÃ§in dÃ¼rÃ¼st baÄŸlar arayÄ±n."
        }
      },
      {
        name: "Eight of Pentacles",
        image: "images/eightofpentacles.jpg",
        upright: {
          en: "Skill-building, meticulous work, and dedication yield results. Perfect your craft through patience.",
          tr: "Beceri geliÅŸtirme, titiz Ã§alÄ±ÅŸma ve adanmÄ±ÅŸlÄ±k sonuÃ§ getirir. SabÄ±rla iÅŸinizde ustalaÅŸÄ±n."
        },
        reversed: {
          en: "Cut corners or half-hearted effort lead to subpar outcomes. Commit fully or risk diminishing returns.",
          tr: "KolaycÄ±lÄ±k veya gÃ¶nÃ¼lsÃ¼z Ã§aba vasat sonuÃ§lar doÄŸurur. Kendinizi tamamen verin ya da azalan getirileri gÃ¶ze alÄ±n."
        }
      },
      {
        name: "Nine of Pentacles",
        image: "images/nineofpentacles.jpg",
        upright: {
          en: "Self-reliance and material comfort come from your past dedication. Enjoy this moment of ease.",
          tr: "Ã–zverili Ã§abanÄ±z, kendi kendinize yetebilme ve maddi rahatlÄ±k getiriyor. Bu sakin anÄ±n tadÄ±nÄ± Ã§Ä±karÄ±n."
        },
        reversed: {
          en: "Overindulgence or shallow comfort might breed emptiness. Seek inner fulfillment, not just luxury.",
          tr: "AÅŸÄ±rÄ± tÃ¼ketim veya yÃ¼zeysel rahatlÄ±k boÅŸluk yaratabilir. Sadece lÃ¼kse deÄŸil, iÃ§sel tatmine de yÃ¶nelin."
        }
      },
      {
        name: "Five of Cups",
        image: "images/fiveofcups.jpg",
        upright: {
          en: "Painful disappointments weigh on your heart. Grieve whatâ€™s lost, yet acknowledge hidden blessings nearby.",
          tr: "AcÄ± veren hayal kÄ±rÄ±klÄ±klarÄ± kalbinize yÃ¼k oluyor. Kaybettiklerinize yas tutun ama yakÄ±ndaki gizli nimetleri de fark edin."
        },
        reversed: {
          en: "A slow return to hope after sorrow. Embrace healing and allow optimism a place in your life again.",
          tr: "ÃœzÃ¼ntÃ¼den sonra yavaÅŸÃ§a umuda dÃ¶nÃ¼ÅŸ. Ä°yileÅŸmeyi kucaklayÄ±n ve iyimserliÄŸe yeniden hayatÄ±nÄ±zda yer aÃ§Ä±n."
        }
      },
      {
        name: "Eight of Swords",
        image: "images/eightofswords.jpg",
        upright: {
          en: "You may feel trapped by limitations, but your mind holds the greatest key. Recognize fearâ€™s illusions.",
          tr: "SÄ±nÄ±rlamalarla kapana kÄ±sÄ±lmÄ±ÅŸ hissedebilirsiniz; ancak en gÃ¼Ã§lÃ¼ anahtar zihninizde. Korkunun illÃ¼zyonlarÄ±nÄ± fark edin."
        },
        reversed: {
          en: "Freedom dawns as you see beyond mental blocks. Face each worry to find a clearer path forward.",
          tr: "Zihinsel engellerin Ã¶tesini gÃ¶rdÃ¼kÃ§e Ã¶zgÃ¼rlÃ¼k doÄŸuyor. Her endiÅŸeyle yÃ¼zleÅŸin, daha net bir yol bulacaksÄ±nÄ±z."
        }
      },
      {
        name: "Queen of Pentacles",
        image: "images/queenofpentacles.jpg",
        upright: {
          en: "Supportive, practical, and caring, you nurture growth in all around you. Mind both home and finances with ease.",
          tr: "Destekleyici, pratik ve ÅŸefkatli biri olarak Ã§evrenizdeki herkesi bÃ¼yÃ¼tÃ¼yorsunuz. Hem evi hem de finansÄ± kolaylÄ±kla idare edin."
        },
        reversed: {
          en: "Neglect of emotional warmth or an over-focus on material gain can strain relationships. Seek balance and empathy.",
          tr: "Duygusal sÄ±caklÄ±ÄŸÄ± ihmal etmek veya maddiyata aÅŸÄ±rÄ± odaklanmak iliÅŸkileri gerer. Denge ve empati arayÄ±n."
        }
      },
      {
        name: "The Emperor",
        image: "images/theemperor.jpg",
        upright: {
          en: "You embody authority, order, and structure. By leading calmly, you build a stable foundation for all.",
          tr: "Otorite, dÃ¼zen ve yapÄ±yÄ± temsil ediyorsunuz. Sakin liderlikle herkes iÃ§in saÄŸlam bir temel inÅŸa edersiniz."
        },
        reversed: {
          en: "Tyranny or loss of control can unravel progress. Temper discipline with understanding for true respect.",
          tr: "ZorbalÄ±k veya kontrol kaybÄ± ilerlemeyi Ã§Ã¶kertir. Disiplini anlayÄ±ÅŸla harmanlayarak gerÃ§ek saygÄ± kazanÄ±n."
        }
      },
      {
        name: "The Empress",
        image: "images/theempress.jpg",
        upright: {
          en: "Creative abundance and maternal energy flow. Cultivate ideas and relationships in a warm, nurturing space.",
          tr: "YaratÄ±cÄ± bolluk ve anaÃ§ enerji akÄ±yor. Fikirleri ve iliÅŸkileri sÄ±cak, besleyici bir ortamda bÃ¼yÃ¼tÃ¼n."
        },
        reversed: {
          en: "Smothering or creative blocks hinder growth. Relax your hold and let nature take its course.",
          tr: "BunaltÄ±cÄ± tutum veya yaratÄ±cÄ± tÄ±kanmalar geliÅŸimi engelliyor. KontrolÃ¼ biraz gevÅŸetin ve doÄŸallÄ±ÄŸa izin verin."
        }
      },
      {
        name: "Ace of Wands",
        image: "images/aceofwands.jpg",
        upright: {
          en: "A burst of passion and motivation surges. Channel this energy into bold new ventures without delay.",
          tr: "Tutku ve motivasyon patlamasÄ± yaÅŸÄ±yorsunuz. Bu enerjiyi cesur yeni giriÅŸimlere vakit kaybetmeden yÃ¶neltin."
        },
        reversed: {
          en: "Lack of direction or sudden discouragement blocks your spark. Seek fresh inspiration to reignite the flame.",
          tr: "YÃ¶n eksikliÄŸi veya ani heves kÄ±rÄ±lmasÄ± kÄ±vÄ±lcÄ±mÄ±nÄ±zÄ± sÃ¶ndÃ¼rÃ¼yor. Alevi yeniden yakmak iÃ§in taze ilham arayÄ±n."
        }
      },
      {
        name: "Three of Pentacles",
        image: "images/threeofpentacles.jpg",
        upright: {
          en: "Collaboration, shared expertise, and respect build a solid project. Recognize each personâ€™s unique skill.",
          tr: "Ä°ÅŸbirliÄŸi, ortak uzmanlÄ±k ve saygÄ± saÄŸlam bir proje kurar. Her kiÅŸinin benzersiz becerisini tanÄ±yÄ±n."
        },
        reversed: {
          en: "Miscommunication or ego battles disrupt teamwork. Encourage openness and humility for true success.",
          tr: "YanlÄ±ÅŸ iletiÅŸim veya ego Ã§atÄ±ÅŸmalarÄ± ekip Ã§alÄ±ÅŸmasÄ±nÄ± bozar. GerÃ§ek baÅŸarÄ± iÃ§in aÃ§Ä±klÄ±ÄŸÄ± ve alÃ§akgÃ¶nÃ¼llÃ¼lÃ¼ÄŸÃ¼ teÅŸvik edin."
        }
      },
      {
        name: "Eight of Wands",
        image: "images/eightofwands.jpg",
        upright: {
          en: "Rapid developments or swift communication bring excitement. Stay focused to keep control of the pace.",
          tr: "HÄ±zlÄ± geliÅŸmeler veya ani iletiÅŸim heyecan yaratÄ±r. HÄ±zÄ± kontrol etmek iÃ§in dikkatinizi koruyun."
        },
        reversed: {
          en: "Delays, confusion, or misdirected energy stall progress. Slow down and clarify to avoid chaos.",
          tr: "Gecikmeler, karÄ±ÅŸÄ±klÄ±k veya yanlÄ±ÅŸ yÃ¶nlendirilmiÅŸ enerji ilerlemeyi durduruyor. Kaosu Ã¶nlemek iÃ§in yavaÅŸlayÄ±n ve netleÅŸtirin."
        }
      },
      {
        name: "Page of Swords",
        image: "images/pageofswords.jpg",
        upright: {
          en: "Curiosity drives you to seek truths, but be tactful in sharing them. Observation is your ally.",
          tr: "Merak sizi gerÃ§ekleri aramaya itiyor, ancak bunlarÄ± paylaÅŸÄ±rken nazik olun. GÃ¶zlem sizin dostunuzdur."
        },
        reversed: {
          en: "Overly blunt or snooping behavior creates conflict. Balance your thirst for info with respect for privacy.",
          tr: "Fazla sert veya meraklÄ± davranÄ±ÅŸlar Ã§atÄ±ÅŸma yaratÄ±r. Bilgi isteÄŸinizi mahremiyete saygÄ±yla dengeleyin."
        }
      },
      {
        name: "Page of Wands",
        image: "images/pageofwands.jpg",
        upright: {
          en: "Bursting enthusiasm leads you to explore fresh horizons. Let optimism guide each step.",
          tr: "CoÅŸkulu heyecan sizi yeni ufuklarÄ± keÅŸfetmeye yÃ¶neltiyor. Her adÄ±mda iyimserliÄŸe gÃ¼venin."
        },
        reversed: {
          en: "Restless or unfocused impulses hinder progress. Ground your passion in concrete plans to move forward.",
          tr: "Huzursuz veya odaklanamayan dÃ¼rtÃ¼ler ilerlemeyi aksatÄ±yor. Tutkunuzu somut planlarla temellendirerek ilerleyin."
        }
      },
      {
        name: "Queen of Wands",
        image: "images/queenofwands.jpg",
        upright: {
          en: "Radiant confidence and magnetic charm. Share your creative spark, and watch others draw inspiration.",
          tr: "IÅŸÄ±l Ä±ÅŸÄ±l Ã¶zgÃ¼ven ve mÄ±knatÄ±s gibi bir Ã§ekicilik. YaratÄ±cÄ± kÄ±vÄ±lcÄ±mÄ±nÄ±zÄ± paylaÅŸÄ±n ve baÅŸkalarÄ±nÄ±n ilham alÄ±ÅŸÄ±nÄ± izleyin."
        },
        reversed: {
          en: "Dominant or attention-seeking behaviors can stifle cooperation. Let others shine alongside you.",
          tr: "BaskÄ±n veya ilgi isteyen davranÄ±ÅŸlar iÅŸbirliÄŸini gÃ¶lgeleyebilir. BaÅŸkalarÄ±nÄ±n da sizinle parlamasÄ±na izin verin."
        }
      },

      // Geri kalan 54 kart: Wikimedia + 2-dilli upright/reversed
      {
        name: "3 - The Empress", // Ã–RNEK
        image: "https://upload.wikimedia.org/wikipedia/commons/b/b9/RWS_Tarot_03_Empress.jpg",
        upright: {
          en: "Abundance, creativity, and nurturing love. A time to grow and bloom in all endeavors.",
          tr: "Bolluk, yaratÄ±cÄ±lÄ±k ve ÅŸefkatli sevgi. TÃ¼m giriÅŸimlerde bÃ¼yÃ¼yÃ¼p Ã§iÃ§ek aÃ§ma zamanÄ±."
        },
        reversed: {
          en: "Blocked growth or smothering influences may hinder progress. Loosen control for natural expansion.",
          tr: "EngellenmiÅŸ bÃ¼yÃ¼me veya bunaltÄ±cÄ± etkiler ilerlemeyi durdurabilir. DoÄŸal geliÅŸim iÃ§in kontrolÃ¼ hafifletin."
        }
      },
      // ...
      // 53 diÄŸer kart da benzer ÅŸekilde (burada kÄ±saltÄ±yoruz).
    ];

    /************************************************************
     *            DAÄ°LY DRAW + STREAK (LOCALSTORAGE)            *
     *            (NO COMBO SYSTEM, JUST 3 CARDS)               *
     ************************************************************/
    // localStorage keys
    let lastDrawDate = localStorage.getItem("dailyTarotLastDraw") || null;
    let streakCount = parseInt(localStorage.getItem("dailyTarotStreak") || "0");

    const drawButton = document.getElementById("drawCardsBtn");
    const threeCardsContainer = document.getElementById("threeCardsContainer");

    function formatDate(d = new Date()) {
      const day = String(d.getDate()).padStart(2,"0");
      const mon = String(d.getMonth()+1).padStart(2,"0");
      const yr = d.getFullYear();
      return `${day}.${mon}.${yr}`;
    }

    function updateStreakDisplay() {
      const t = uiTexts[currentLang];
      const label = t.streakLabel; // "Streak" or "Seri"
      streakContainer.textContent = `${label}: ${streakCount} ðŸ”¥`;
    }

    // streak check on load
    (function checkStreakOnLoad() {
      if(!lastDrawDate) {
        streakCount = 0;
        localStorage.setItem("dailyTarotStreak","0");
      } else {
        const todayStr = formatDate();
        if(lastDrawDate !== todayStr) {
          // check gap
          const [dd, mm, yy] = lastDrawDate.split(".").map(Number);
          const lastDateObj = new Date(yy, mm-1, dd);
          const now = new Date();
          const diffTime = now - lastDateObj;
          const diffDays = Math.floor(diffTime / (1000*60*60*24));
          if(diffDays > 1) {
            // missed day(s)
            streakCount = 0;
            localStorage.setItem("dailyTarotStreak","0");
          }
        }
      }
      applyLanguage(); // ilk dil ayarlarÄ±nÄ± uygula
    })();

    drawButton.addEventListener("click", () => {
      const t = uiTexts[currentLang];
      messageDiv.textContent = "";
      threeCardsContainer.innerHTML = "";

      const todayStr = formatDate();
      if(lastDrawDate === todayStr) {
        // same day draw blocked
        messageDiv.textContent = t.alreadyDrewMsg;
        return;
      }

      // proceed with draw
      const idxSet = new Set();
      while(idxSet.size < 3) {
        idxSet.add(Math.floor(Math.random()*tarotDeck.length));
      }
      const chosenIdxs = [...idxSet].sort((a,b)=>a-b);

      const posLabels = [t.positionPast, t.positionPresent, t.positionFuture];

      chosenIdxs.forEach((deckIndex, i) => {
        const cardObj = tarotDeck[deckIndex];
        const isRev = Math.random()<0.5;
        
        const cardDiv = document.createElement("div");
        cardDiv.className = "card-container";

        const label = document.createElement("h4");
        label.className = "position-label";
        label.textContent = posLabels[i];
        cardDiv.appendChild(label);

        // image
        const imgEl = document.createElement("img");
        imgEl.src = cardObj.image;
        if(isRev) {
          imgEl.style.transform = "rotate(180deg)";
        }
        cardDiv.appendChild(imgEl);

        // title
        const titleEl = document.createElement("h5");
        titleEl.className = "card-title";
        titleEl.textContent = cardObj.name + (isRev ? " (Reversed)" : "");
        cardDiv.appendChild(titleEl);

        // desc
        const descEl = document.createElement("p");
        descEl.className = "card-desc";
        // choose language upright/reversed
        descEl.textContent = isRev
          ? cardObj.reversed[currentLang]
          : cardObj.upright[currentLang];
        cardDiv.appendChild(descEl);

        threeCardsContainer.appendChild(cardDiv);
      });

      // mark daily usage
      lastDrawDate = todayStr;
      localStorage.setItem("dailyTarotLastDraw", lastDrawDate);

      // streak
      if(streakCount <= 0) {
        streakCount = 1;
      } else {
        streakCount++;
      }
      localStorage.setItem("dailyTarotStreak", streakCount.toString());
      updateStreakDisplay();
    });
  </script>
</body>
</html>
